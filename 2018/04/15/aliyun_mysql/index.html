<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    

    <title>
      阿里云Centos7 安装静默Mysql | AiZongbin 
    </title>

    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    
      <meta name="author" content="John Doe">
    
    

    <meta name="description" content="环境 CentOS 7.1 (64-bit system) MySQL 5.6.24 依赖MySQL 依赖 libaio，所以先要安装 libaio12yum search libaio # 检索相关信息yum install libaio # 安装依赖包  成功安装，提示如下： 1234567[root@bogon /]# yum install libaio已加载插件：fastestmirro">
<meta property="og:type" content="article">
<meta property="og:title" content="阿里云Centos7 安装静默Mysql | AiZongbin">
<meta property="og:url" content="http://yoursite.com/2018/04/15/aliyun_mysql/index.html">
<meta property="og:site_name" content="AiZongbin">
<meta property="og:description" content="环境 CentOS 7.1 (64-bit system) MySQL 5.6.24 依赖MySQL 依赖 libaio，所以先要安装 libaio12yum search libaio # 检索相关信息yum install libaio # 安装依赖包  成功安装，提示如下： 1234567[root@bogon /]# yum install libaio已加载插件：fastestmirro">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2018-04-15T08:38:44.803Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="阿里云Centos7 安装静默Mysql | AiZongbin">
<meta name="twitter:description" content="环境 CentOS 7.1 (64-bit system) MySQL 5.6.24 依赖MySQL 依赖 libaio，所以先要安装 libaio12yum search libaio # 检索相关信息yum install libaio # 安装依赖包  成功安装，提示如下： 1234567[root@bogon /]# yum install libaio已加载插件：fastestmirro">
    
    
    
      <link rel="icon" type="image/x-icon" href="/favicon.png">
    
    <link rel="stylesheet" href="/css/uno.css">
    <link rel="stylesheet" href="/css/highlight.css">
    <link rel="stylesheet" href="/css/archive.css">
    <link rel="stylesheet" href="/css/china-social-icon.css">

</head>
<body>

    <span class="mobile btn-mobile-menu">
        <i class="icon icon-list btn-mobile-menu__icon"></i>
        <i class="icon icon-x-circle btn-mobile-close__icon hidden"></i>
    </span>

    

<header class="panel-cover panel-cover--collapsed">


  <div class="panel-main">

  
    <div class="panel-main__inner panel-inverted">
    <div class="panel-main__content">

        

        <h1 class="panel-cover__title panel-title"><a href="/" title="link to homepage">AiZongbin</a></h1>
        <hr class="panel-cover__divider" />

        
        <p class="panel-cover__description">
          Technical summary and share
        </p>
        <hr class="panel-cover__divider panel-cover__divider--secondary" />
        

        <div class="navigation-wrapper">

          <nav class="cover-navigation cover-navigation--primary">
            <ul class="navigation">

              
                
                <li class="navigation__item"><a href="/#blog" title="" class="blog-button">首页</a></li>
              
                
                <li class="navigation__item"><a href="/about" title="" class="">关于</a></li>
              
                
                <li class="navigation__item"><a href="/archive" title="" class="">归档</a></li>
              

            </ul>
          </nav>

          <!-- ----------------------------
To add a new social icon simply duplicate one of the list items from below
and change the class in the <i> tag to match the desired social network
and then add your link to the <a>. Here is a full list of social network
classes that you can use:

    icon-social-500px
    icon-social-behance
    icon-social-delicious
    icon-social-designer-news
    icon-social-deviant-art
    icon-social-digg
    icon-social-dribbble
    icon-social-facebook
    icon-social-flickr
    icon-social-forrst
    icon-social-foursquare
    icon-social-github
    icon-social-google-plus
    icon-social-hi5
    icon-social-instagram
    icon-social-lastfm
    icon-social-linkedin
    icon-social-medium
    icon-social-myspace
    icon-social-path
    icon-social-pinterest
    icon-social-rdio
    icon-social-reddit
    icon-social-skype
    icon-social-spotify
    icon-social-stack-overflow
    icon-social-steam
    icon-social-stumbleupon
    icon-social-treehouse
    icon-social-tumblr
    icon-social-twitter
    icon-social-vimeo
    icon-social-xbox
    icon-social-yelp
    icon-social-youtube
    icon-social-zerply
    icon-mail

-------------------------------->

<!-- add social info here -->



<nav class="cover-navigation navigation--social">
  <ul class="navigation">

    
      <!-- Github -->
      <li class="navigation__item">
        <a href="https://github.com/ZongBinAi" title="Huno on GitHub">
          <i class='icon icon-social-github'></i>
          <span class="label">GitHub</span>
        </a>
      </li>
    

	 <li class="navigation__item">
        <a href="https://weibo.com/u/5663600032?refer_flag=1001030201_" title="weibo">
          <i class='icon cs-icon-weibo'></i>
          <span class="label">Weibo</span>
        </a>
     </li>
    <li class="navigation__item">
        <a href="https://blog.csdn.net/grave2015" title="CSDN">
          <i class='icon cs-icon-qzone'></i>
          <span class="label">CSDN</span>
        </a>
     </li>
  </ul>
</nav>



        </div>

      </div>

    </div>

    <div class="panel-cover--overlay"></div>
  </div>
</header>

    <div class="content-wrapper">
        <div class="content-wrapper__inner entry">
            

<article class="post-container post-container--single">

  <header class="post-header">
    
    <h1 class="post-title">阿里云Centos7 安装静默Mysql</h1>

    

    <div class="post-meta">
      <time datetime="2018-04-15" class="post-meta__date date">2018-04-15</time> 

      <span class="post-meta__tags tags">

          

          

      </span>
    </div>
    
    

  </header>

  <section id="post-content" class="article-content post">
    <h3 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h3><ul>
<li>CentOS 7.1 (64-bit system)</li>
<li><p>MySQL 5.6.24</p>
<h3 id="依赖"><a href="#依赖" class="headerlink" title="依赖"></a>依赖</h3><h4 id="MySQL-依赖-libaio，所以先要安装-libaio"><a href="#MySQL-依赖-libaio，所以先要安装-libaio" class="headerlink" title="MySQL 依赖 libaio，所以先要安装 libaio"></a>MySQL 依赖 libaio，所以先要安装 libaio</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum search libaio <span class="comment"># 检索相关信息</span></span><br><span class="line">yum install libaio <span class="comment"># 安装依赖包</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>成功安装，提示如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@bogon /]<span class="comment"># yum install libaio</span></span><br><span class="line">已加载插件：fastestmirror Loading mirror speeds from cached hostfile</span><br><span class="line"> * base: mirrors.yun-idc.com</span><br><span class="line"> * extras: mirrors.163.com</span><br><span class="line"> * updates: mirrors.163.com</span><br><span class="line">软件包 libaio-0.3.109-12.el7.x86_64 已安装并且是最新版本</span><br><span class="line">无须任何处理</span><br></pre></td></tr></table></figure>
</li>
<li><p>检查 MySQL 是否已安装</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum list installed | grep mysql</span><br></pre></td></tr></table></figure>
</li>
<li><p>如果有，就先全部卸载，命令如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y remove mysql-libs.x86_64</span><br></pre></td></tr></table></figure>
</li>
<li><p>若有多个依赖文件则依次卸载。当结果显示为 Complete！即卸载完毕。</p>
</li>
</ul>
<h3 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h3><ul>
<li><p>执行</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget http://dev.mysql.com/get/mysql-community-release-el7-5.noarch.rpm</span><br></pre></td></tr></table></figure>
</li>
<li><p>如果提示 <code>-bash: wget:</code> 未找到命令，请先执行<code>yum install wget</code>安装<code>wget</code></p>
</li>
</ul>
<h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><ul>
<li><p>添加 MySQL Yum Repository 到你的系统 repository 列表中，执行</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum localinstall mysql-community-release-el7-5.noarch.rpm</span><br></pre></td></tr></table></figure>
</li>
<li><p>显示</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">[root@bogon software]<span class="comment"># yum localinstall mysql-community-release-el7-5.noarch.rpm</span></span><br><span class="line">已加载插件：fastestmirror</span><br><span class="line">正在检查 mysql-community-release-el7-5.noarch.rpm: mysql-community-release-el7-5.noarch</span><br><span class="line">mysql-community-release-el7-5.noarch.rpm 将被安装</span><br><span class="line">正在解决依赖关系</span><br><span class="line">--&gt; 正在检查事务 ---&gt; 软件包 mysql-community-release.noarch.0.el7-5 将被 安装 --&gt; 解决依赖关系完成</span><br><span class="line"></span><br><span class="line">依赖关系解决</span><br><span class="line"></span><br><span class="line">================================================================================</span><br><span class="line"> Package 架构 版本 源 大小</span><br><span class="line">================================================================================</span><br><span class="line">正在安装:</span><br><span class="line"> mysql-community-release</span><br><span class="line"> noarch el7-5 /mysql-community-release-el7-5.noarch 4.3 k</span><br><span class="line"></span><br><span class="line">事务概要</span><br><span class="line">================================================================================</span><br><span class="line">安装 1 软件包</span><br><span class="line"></span><br><span class="line">总计：4.3 k</span><br><span class="line">安装大小：4.3 k Is this ok [y/d/N]</span><br></pre></td></tr></table></figure>
</li>
<li><p>输入y</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Is this ok [y/d/N]: y</span><br><span class="line">Downloading packages:</span><br><span class="line">Running transaction check</span><br><span class="line">Running transaction <span class="built_in">test</span></span><br><span class="line">Transaction <span class="built_in">test</span> succeeded</span><br><span class="line">Running transaction</span><br><span class="line"> 正在安装 : mysql-community-release-el7-5.noarch 1/1</span><br><span class="line"> 验证中 : mysql-community-release-el7-5.noarch 1/1</span><br><span class="line"></span><br><span class="line">已安装:</span><br><span class="line"> mysql-community-release.noarch 0:el7-5</span><br><span class="line"></span><br><span class="line">完毕！</span><br></pre></td></tr></table></figure>
</li>
<li><p>验证下是否添加成功</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum repolist enabled | grep <span class="string">"mysql.*-community.*"</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>显示下面结果表示成功</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@bogon software]<span class="comment"># yum repolist enabled | grep "mysql.*-community.*"</span></span><br><span class="line">mysql-connectors-community/x86_64 MySQL Connectors Community 1</span><br><span class="line">mysql-tools-community/x86_64 MySQL Tools Community 1</span><br><span class="line">mysql56-community/x86_64 MySQL 5.6 Community Server 13</span><br></pre></td></tr></table></figure>
</li>
<li><p>选择要启用 MySQL 版本,查看 MySQL 版本，执行</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum repolist all | grep mysql</span><br></pre></td></tr></table></figure>
</li>
<li><p>可以看到 5.5， 5.7 版本是默认禁用的，因为现在最新的稳定版是 5.6</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@bogon software]<span class="comment"># yum repolist all | grep mysql</span></span><br><span class="line">mysql-connectors-community/x86_64 MySQL Connectors Community 启用: 14</span><br><span class="line">mysql-connectors-community-source MySQL Connectors Community - Sourc 禁用</span><br><span class="line">mysql-tools-community/x86_64 MySQL Tools Community 启用: 17</span><br><span class="line">mysql-tools-community-source MySQL Tools Community - Source 禁用</span><br><span class="line">mysql55-community/x86_64 MySQL 5.5 Community Server 禁用</span><br><span class="line">mysql55-community-source MySQL 5.5 Community Server - Sourc 禁用</span><br><span class="line">mysql56-community/x86_64 MySQL 5.6 Community Server 启用: 139</span><br><span class="line">mysql56-community-source MySQL 5.6 Community Server - Sourc 禁用</span><br><span class="line">mysql57-community-dmr/x86_64 MySQL 5.7 Community Server Develop 禁用</span><br><span class="line">mysql57-community-dmr-source MySQL 5.7 Community Server Develop 禁用</span><br></pre></td></tr></table></figure>
</li>
<li><p>可以通过类似下面的语句来启动某些版本</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum-config-manager --<span class="built_in">disable</span> mysql56-community</span><br><span class="line">yum-config-manager --<span class="built_in">enable</span> mysql57-community-dmr</span><br></pre></td></tr></table></figure>
</li>
<li><p>或者通过修改<code>/etc/yum.repos.d/mysql-community.repo</code> 文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Enable to use MySQL 5.6 [mysql56-community] name=MySQL 5.6 Community Server</span></span><br><span class="line">baseurl=http://repo.mysql.com/yum/mysql-5.6-community/el/7/<span class="variable">$basearch</span>/</span><br><span class="line">enabled=1 gpgcheck=1 gpgkey=file:/etc/pki/rpm-gpg/RPM-GPG-KEY-mysql</span><br></pre></td></tr></table></figure>
</li>
<li><p>其中 <code>enabled=0</code> 是指禁用，<code>enabled=1</code> 指启用。</p>
</li>
<li><p><strong><em>注意： 任何时候，只能启用一个版本。</em></strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install mysql-community-server</span><br></pre></td></tr></table></figure>
</li>
<li><p>Yum 会自动处理 MySQL 与其他组件的依赖关系：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">[root@bogon software]<span class="comment"># yum install mysql-community-server</span></span><br><span class="line">已加载插件：fastestmirror</span><br><span class="line">Loading mirror speeds from cached hostfile</span><br><span class="line"> * base: mirrors.yun-idc.com</span><br><span class="line"> * extras: mirrors.163.com</span><br><span class="line"> * updates: mirrors.163.com</span><br><span class="line">正在解决依赖关系</span><br><span class="line">--&gt; 正在检查事务 ---&gt; 软件包 mysql-community-server.x86_64.0.5.6.24-3.el7 将被 安装 --&gt; 正在处理依赖关系 mysql-community-common(x86-64) = 5.6.24-3.el7，它被软件包 m ysql-community-server-5.6.24-3.el7.x86_64 需要 --&gt; 正在处理依赖关系 mysql-community-client(x86-64) = 5.6.24-3.el7，它被软件包 m ysql-community-server-5.6.24-3.el7.x86_64 需要 --&gt; 正在处理依赖关系 perl(warnings)，它被软件包 mysql-community-server-5.6.24-3. el7.x86_64 需要 --&gt; 正在处理依赖关系 perl(strict)，它被软件包 mysql-community-server-5.6.24-3.el 7.x86_64 需要 --&gt; 正在处理依赖关系 perl(<span class="keyword">if</span>)，它被软件包 mysql-community-server-5.6.24-3.el7.x8 6_64 需要 --&gt; 正在处理依赖关系 perl(Sys::Hostname)，它被软件包 mysql-community-server-5.6. 24-3.el7.x86_64 需要 --&gt; 正在处理依赖关系 perl(POSIX)，它被软件包 mysql-community-server-5.6.24-3.el7 .x86_64 需要 --&gt; 正在处理依赖关系 perl(Getopt::Long)，它被软件包 mysql-community-server-5.6.2 4-3.el7.x86_64 需要 --&gt; 正在处理依赖关系 perl(File::Temp)，它被软件包 mysql-community-server-5.6.24- 3.el7.x86_64 需要 --&gt; 正在处理依赖关系 perl(File::Spec)，它被软件包 mysql-community-server-5.6.24- 3.el7.x86_64 需要 --&gt; 正在处理依赖关系 perl(File::Path)，它被软件包 mysql-community-server-5.6.24- 3.el7.x86_64 需要 --&gt; 正在处理依赖关系 perl(File::Copy)，它被软件包 mysql-community-server-5.6.24- 3.el7.x86_64 需要 --&gt; 正在处理依赖关系 perl(File::Basename)，它被软件包 mysql-community-server-5.6 .24-3.el7.x86_64 需要 --&gt; 正在处理依赖关系 perl(Fcntl)，它被软件包 mysql-community-server-5.6.24-3.el7 .x86_64 需要 --&gt; 正在处理依赖关系 perl(Data::Dumper)，它被软件包 mysql-community-server-5.6.2 4-3.el7.x86_64 需要 --&gt; 正在处理依赖关系 perl(DBI)，它被软件包 mysql-community-server-5.6.24-3.el7.x 86_64 需要 --&gt; 正在处理依赖关系 net-tools，它被软件包 mysql-community-server-5.6.24-3.el7.x 86_64 需要 --&gt; 正在处理依赖关系 /usr/bin/perl，它被软件包 mysql-community-server-5.6.24-3.e l7.x86_64 需要 --&gt; 正在检查事务 ---&gt; 软件包 mysql-community-client.x86_64.0.5.6.24-3.el7 将被 安装 --&gt; 正在处理依赖关系 mysql-community-libs(x86-64) = 5.6.24-3.el7，它被软件包 mys ql-community-client-5.6.24-3.el7.x86_64 需要 --&gt; 正在处理依赖关系 perl(Exporter)，它被软件包 mysql-community-client-5.6.24-3. el7.x86_64 需要 ---&gt; 软件包 mysql-community-common.x86_64.0.5.6.24-3.el7 将被 安装 ---&gt; 软件包 net-tools.x86_64.0.2.0-0.17.20131004git.el7 将被 安装 ---&gt; 软件包 perl.x86_64.4.5.16.3-285.el7 将被 安装 --&gt; 正在处理依赖关系 perl-libs = 4:5.16.3-285.el7，它被软件包 4:perl-5.16.3-285. el7.x86_64 需要 --&gt; 正在处理依赖关系 perl(Socket) &gt;= 1.3，它被软件包 4:perl-5.16.3-285.el7.x86_6 4 需要 --&gt; 正在处理依赖关系 perl(Scalar::Util) &gt;= 1.10，它被软件包 4:perl-5.16.3-285.el 7.x86_64 需要 --&gt; 正在处理依赖关系 perl-macros，它被软件包 4:perl-5.16.3-285.el7.x86_64 需要 --&gt; 正在处理依赖关系 perl-libs，它被软件包 4:perl-5.16.3-285.el7.x86_64 需要 --&gt; 正在处理依赖关系 perl(threads::shared)，它被软件包 4:perl-5.16.3-285.el7.x86 _64 需要 --&gt; 正在处理依赖关系 perl(threads)，它被软件包 4:perl-5.16.3-285.el7.x86_64 需要 --&gt; 正在处理依赖关系 perl(constant)，它被软件包 4:perl-5.16.3-285.el7.x86_64 需 要 --&gt; 正在处理依赖关系 perl(Time::Local)，它被软件包 4:perl-5.16.3-285.el7.x86_64 需要 --&gt; 正在处理依赖关系 perl(Time::HiRes)，它被软件包 4:perl-5.16.3-285.el7.x86_64 需要 --&gt; 正在处理依赖关系 perl(Storable)，它被软件包 4:perl-5.16.3-285.el7.x86_64 需 要 --&gt; 正在处理依赖关系 perl(Socket)，它被软件包 4:perl-5.16.3-285.el7.x86_64 需要 --&gt; 正在处理依赖关系 perl(Scalar::Util)，它被软件包 4:perl-5.16.3-285.el7.x86_64 需要 --&gt; 正在处理依赖关系 perl(Pod::Simple::XHTML)，它被软件包 4:perl-5.16.3-285.el7. x86_64 需要 --&gt; 正在处理依赖关系 perl(Pod::Simple::Search)，它被软件包 4:perl-5.16.3-285.el7 .x86_64 需要 --&gt; 正在处理依赖关系 perl(Filter::Util::Call)，它被软件包 4:perl-5.16.3-285.el7. x86_64 需要 --&gt; 正在处理依赖关系 perl(Carp)，它被软件包 4:perl-5.16.3-285.el7.x86_64 需要 --&gt; 正在处理依赖关系 libperl.so()(64bit)，它被软件包 4:perl-5.16.3-285.el7.x86_6 4 需要 ---&gt; 软件包 perl-DBI.x86_64.0.1.627-4.el7 将被 安装 --&gt; 正在处理依赖关系 perl(RPC::PlServer) &gt;= 0.2001，它被软件包 perl-DBI-1.627-4. el7.x86_64 需要 --&gt; 正在处理依赖关系 perl(RPC::PlClient) &gt;= 0.2000，它被软件包 perl-DBI-1.627-4. el7.x86_64 需要 ---&gt; 软件包 perl-Data-Dumper.x86_64.0.2.145-3.el7 将被 安装 ---&gt; 软件包 perl-File-Path.noarch.0.2.09-2.el7 将被 安装 ---&gt; 软件包 perl-File-Temp.noarch.0.0.23.01-3.el7 将被 安装 ---&gt; 软件包 perl-Getopt-Long.noarch.0.2.40-2.el7 将被 安装 --&gt; 正在处理依赖关系 perl(Pod::Usage) &gt;= 1.14，它被软件包 perl-Getopt-Long-2.40- 2.el7.noarch 需要 --&gt; 正在处理依赖关系 perl(Text::ParseWords)，它被软件包 perl-Getopt-Long-2.40-2. el7.noarch 需要 ---&gt; 软件包 perl-PathTools.x86_64.0.3.40-5.el7 将被 安装 --&gt; 正在检查事务 ---&gt; 软件包 mariadb-libs.x86_64.1.5.5.41-2.el7_0 将被 取代 ---&gt; 软件包 mysql-community-libs.x86_64.0.5.6.24-3.el7 将被 舍弃 ---&gt; 软件包 perl-Carp.noarch.0.1.26-244.el7 将被 安装 ---&gt; 软件包 perl-Exporter.noarch.0.5.68-3.el7 将被 安装 ---&gt; 软件包 perl-Filter.x86_64.0.1.49-3.el7 将被 安装 ---&gt; 软件包 perl-PlRPC.noarch.0.0.2020-14.el7 将被 安装 --&gt; 正在处理依赖关系 perl(Net::Daemon) &gt;= 0.13，它被软件包 perl-PlRPC-0.2020-14. el7.noarch 需要 --&gt; 正在处理依赖关系 perl(Net::Daemon::Test)，它被软件包 perl-PlRPC-0.2020-14.el 7.noarch 需要 --&gt; 正在处理依赖关系 perl(Net::Daemon::Log)，它被软件包 perl-PlRPC-0.2020-14.el7 .noarch 需要 --&gt; 正在处理依赖关系 perl(Compress::Zlib)，它被软件包 perl-PlRPC-0.2020-14.el7.n oarch 需要 ---&gt; 软件包 perl-Pod-Simple.noarch.1.3.28-4.el7 将被 安装 --&gt; 正在处理依赖关系 perl(Pod::Escapes) &gt;= 1.04，它被软件包 1:perl-Pod-Simple-3. 28-4.el7.noarch 需要 --&gt; 正在处理依赖关系 perl(Encode)，它被软件包 1:perl-Pod-Simple-3.28-4.el7.noarc h 需要 ---&gt; 软件包 perl-Pod-Usage.noarch.0.1.63-3.el7 将被 安装 --&gt; 正在处理依赖关系 perl(Pod::Text) &gt;= 3.15，它被软件包 perl-Pod-Usage-1.63-3.e l7.noarch 需要 --&gt; 正在处理依赖关系 perl-Pod-Perldoc，它被软件包 perl-Pod-Usage-1.63-3.el7.noar ch 需要 ---&gt; 软件包 perl-Scalar-List-Utils.x86_64.0.1.27-248.el7 将被 安装 ---&gt; 软件包 perl-Socket.x86_64.0.2.010-3.el7 将被 安装 ---&gt; 软件包 perl-Storable.x86_64.0.2.45-3.el7 将被 安装 ---&gt; 软件包 perl-Text-ParseWords.noarch.0.3.29-4.el7 将被 安装 ---&gt; 软件包 perl-Time-HiRes.x86_64.4.1.9725-3.el7 将被 安装 ---&gt; 软件包 perl-Time-Local.noarch.0.1.2300-2.el7 将被 安装 ---&gt; 软件包 perl-constant.noarch.0.1.27-2.el7 将被 安装 ---&gt; 软件包 perl-libs.x86_64.4.5.16.3-285.el7 将被 安装 ---&gt; 软件包 perl-macros.x86_64.4.5.16.3-285.el7 将被 安装 ---&gt; 软件包 perl-threads.x86_64.0.1.87-4.el7 将被 安装 ---&gt; 软件包 perl-threads-shared.x86_64.0.1.43-6.el7 将被 安装 --&gt; 正在检查事务 ---&gt; 软件包 perl-Encode.x86_64.0.2.51-7.el7 将被 安装 ---&gt; 软件包 perl-IO-Compress.noarch.0.2.061-2.el7 将被 安装 --&gt; 正在处理依赖关系 perl(Compress::Raw::Zlib) &gt;= 2.061，它被软件包 perl-IO-Comp ress-2.061-2.el7.noarch 需要 --&gt; 正在处理依赖关系 perl(Compress::Raw::Bzip2) &gt;= 2.061，它被软件包 perl-IO-Com press-2.061-2.el7.noarch 需要 ---&gt; 软件包 perl-Net-Daemon.noarch.0.0.48-5.el7 将被 安装 ---&gt; 软件包 perl-Pod-Escapes.noarch.1.1.04-285.el7 将被 安装 ---&gt; 软件包 perl-Pod-Perldoc.noarch.0.3.20-4.el7 将被 安装 --&gt; 正在处理依赖关系 perl(parent)，它被软件包 perl-Pod-Perldoc-3.20-4.el7.noarch 需要 --&gt; 正在处理依赖关系 perl(HTTP::Tiny)，它被软件包 perl-Pod-Perldoc-3.20-4.el7.no arch 需要 ---&gt; 软件包 perl-podlators.noarch.0.2.5.1-3.el7 将被 安装 --&gt; 正在检查事务 ---&gt; 软件包 perl-Compress-Raw-Bzip2.x86_64.0.2.061-3.el7 将被 安装 ---&gt; 软件包 perl-Compress-Raw-Zlib.x86_64.1.2.061-4.el7 将被 安装 ---&gt; 软件包 perl-HTTP-Tiny.noarch.0.0.033-3.el7 将被 安装 ---&gt; 软件包 perl-parent.noarch.1.0.225-244.el7 将被 安装 --&gt; 解决依赖关系完成</span><br><span class="line"></span><br><span class="line">依赖关系解决</span><br><span class="line"></span><br><span class="line">================================================================================</span><br><span class="line"> Package 架构 版本 源 大小</span><br><span class="line">================================================================================</span><br><span class="line">正在安装:</span><br><span class="line"> mysql-community-libs x86_64 5.6.24-3.el7 mysql56-community 2.0 M</span><br><span class="line"> 替换 mariadb-libs.x86_64 1:5.5.41-2.el7_0</span><br><span class="line"> mysql-community-server x86_64 5.6.24-3.el7 mysql56-community 58 M</span><br><span class="line">为依赖而安装:</span><br><span class="line"> mysql-community-client x86_64 5.6.24-3.el7 mysql56-community 19 M</span><br><span class="line"> mysql-community-common x86_64 5.6.24-3.el7 mysql56-community 256 k</span><br><span class="line"> net-tools x86_64 2.0-0.17.20131004git.el7 base 304 k</span><br><span class="line"> perl x86_64 4:5.16.3-285.el7 base 8.0 M</span><br><span class="line"> perl-Carp noarch 1.26-244.el7 base 19 k</span><br><span class="line"> perl-Compress-Raw-Bzip2</span><br><span class="line"> x86_64 2.061-3.el7 base 32 k</span><br><span class="line"> perl-Compress-Raw-Zlib x86_64 1:2.061-4.el7 base 57 k</span><br><span class="line"> perl-DBI x86_64 1.627-4.el7 base 802 k</span><br><span class="line"> perl-Data-Dumper x86_64 2.145-3.el7 base 47 k</span><br><span class="line"> perl-Encode x86_64 2.51-7.el7 base 1.5 M</span><br><span class="line"> perl-Exporter noarch 5.68-3.el7 base 28 k</span><br><span class="line"> perl-File-Path noarch 2.09-2.el7 base 26 k</span><br><span class="line"> perl-File-Temp noarch 0.23.01-3.el7 base 56 k</span><br><span class="line"> perl-Filter x86_64 1.49-3.el7 base 76 k</span><br><span class="line"> perl-Getopt-Long noarch 2.40-2.el7 base 56 k</span><br><span class="line"> perl-HTTP-Tiny noarch 0.033-3.el7 base 38 k</span><br><span class="line"> perl-IO-Compress noarch 2.061-2.el7 base 260 k</span><br><span class="line"> perl-Net-Daemon noarch 0.48-5.el7 base 51 k</span><br><span class="line"> perl-PathTools x86_64 3.40-5.el7 base 82 k</span><br><span class="line"> perl-PlRPC noarch 0.2020-14.el7 base 36 k</span><br><span class="line"> perl-Pod-Escapes noarch 1:1.04-285.el7 base 50 k</span><br><span class="line"> perl-Pod-Perldoc noarch 3.20-4.el7 base 87 k</span><br><span class="line"> perl-Pod-Simple noarch 1:3.28-4.el7 base 216 k</span><br><span class="line"> perl-Pod-Usage noarch 1.63-3.el7 base 27 k</span><br><span class="line"> perl-Scalar-List-Utils x86_64 1.27-248.el7 base 36 k</span><br><span class="line"> perl-Socket x86_64 2.010-3.el7 base 49 k</span><br><span class="line"> perl-Storable x86_64 2.45-3.el7 base 77 k</span><br><span class="line"> perl-Text-ParseWords noarch 3.29-4.el7 base 14 k</span><br><span class="line"> perl-Time-HiRes x86_64 4:1.9725-3.el7 base 45 k</span><br><span class="line"> perl-Time-Local noarch 1.2300-2.el7 base 24 k</span><br><span class="line"> perl-constant noarch 1.27-2.el7 base 19 k</span><br><span class="line"> perl-libs x86_64 4:5.16.3-285.el7 base 687 k</span><br><span class="line"> perl-macros x86_64 4:5.16.3-285.el7 base 42 k</span><br><span class="line"> perl-parent noarch 1:0.225-244.el7 base 12 k</span><br><span class="line"> perl-podlators noarch 2.5.1-3.el7 base 112 k</span><br><span class="line"> perl-threads x86_64 1.87-4.el7 base 49 k</span><br><span class="line"> perl-threads-shared x86_64 1.43-6.el7 base 39 k</span><br><span class="line"></span><br><span class="line">事务概要</span><br><span class="line">================================================================================</span><br><span class="line">安装 2 软件包 (+37 依赖软件包)</span><br><span class="line"></span><br><span class="line">总下载量：92 M Is this ok [y/d/N]:</span><br></pre></td></tr></table></figure>
</li>
<li><p>选择y</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">总计 1.1 MB/s | 92 MB 01:24</span><br><span class="line">从 file:/etc/pki/rpm-gpg/RPM-GPG-KEY-mysql 检索密钥</span><br><span class="line">导入 GPG key 0x5072E1F5:</span><br><span class="line"> 用户ID : <span class="string">"MySQL Release Engineering &lt;mysql-build@oss.oracle.com&gt;"</span></span><br><span class="line"> 指纹 : a4a9 4068 76fc bd3c 4567 70c8 8c71 8d3b 5072 e1f5</span><br><span class="line"> 软件包 : mysql-community-release-el7-5.noarch (@/mysql-community-release-el7-5.noarch)</span><br><span class="line"> 来自 : file:/etc/pki/rpm-gpg/RPM-GPG-KEY-mysql</span><br><span class="line">是否继续？[y/N]：</span><br></pre></td></tr></table></figure>
</li>
<li><p>遇到上述提示，输入 y 继续，执行完成会提示“完毕！”。此时MySQL 安装完成，它包含了 mysql-community-server、mysql-community-client、mysql-community-common、mysql-community-libs 四个包。</p>
</li>
<li>执行<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -qi mysql-community-server.x86_64 0:5.6.24-3.el7</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="启动和关闭-MySQL-Server"><a href="#启动和关闭-MySQL-Server" class="headerlink" title="启动和关闭 MySQL Server"></a>启动和关闭 MySQL Server</h3><ul>
<li><p>启动 MySQL Server</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl start mysqld</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看 MySQL Server 状态</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl status mysqld</span><br></pre></td></tr></table></figure>
</li>
<li><p>关闭 MySQL Server</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl stop mysqld</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="测试是否安装成功"><a href="#测试是否安装成功" class="headerlink" title="测试是否安装成功"></a>测试是否安装成功</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql</span><br></pre></td></tr></table></figure>
<ul>
<li>可以进入 mysql 命令行界面<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@bogon software]<span class="comment"># mysql</span></span><br><span class="line">Welcome to the MySQL monitor. Commands end with ; or \g.</span><br><span class="line">Your MySQL connection id is 2</span><br><span class="line">Server version: 5.6.24 MySQL Community Server (GPL)</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2015, Oracle and/or its affiliates. All rights reserved.</span><br><span class="line"></span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type <span class="string">'help;'</span> or <span class="string">'\h'</span> <span class="keyword">for</span> <span class="built_in">help</span>. Type <span class="string">'\c'</span> to clear the current input statement.</span><br><span class="line"></span><br><span class="line">mysql&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>###防火墙设置</p>
<ul>
<li>远程访问 MySQL， 需开放默认端口号 3306.</li>
<li><p>执行</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --permanent --zone=public --add-port=3306/tcp</span><br><span class="line">firewall-cmd --permanent --zone=public --add-port=3306/udp</span><br></pre></td></tr></table></figure>
</li>
<li><p>这样就开放了相应的端口。</p>
</li>
<li><p>执行</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --reload</span><br></pre></td></tr></table></figure>
</li>
<li><p>使最新的防火墙设置规则生效。</p>
<h3 id="MySQL-安全设置"><a href="#MySQL-安全设置" class="headerlink" title="MySQL 安全设置"></a>MySQL 安全设置</h3></li>
<li><p>服务器启动后，可以执行</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql_secure_installation;</span><br></pre></td></tr></table></figure>
</li>
<li><p>看到如下提示</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@bogon software]<span class="comment"># mysql_secure_installation</span></span><br><span class="line"></span><br><span class="line">NOTE: RUNNING ALL PARTS OF THIS SCRIPT IS RECOMMENDED FOR ALL MySQL</span><br><span class="line"> SERVERS IN PRODUCTION USE! PLEASE READ EACH STEP CAREFULLY!</span><br><span class="line"></span><br><span class="line">In order to <span class="built_in">log</span> into MySQL to secure it, we<span class="string">'ll need the current</span></span><br><span class="line"><span class="string">password for the root user. If you'</span>ve just installed MySQL, and</span><br><span class="line">you haven<span class="string">'t set the root password yet, the password will be blank,</span></span><br><span class="line"><span class="string">so you should just press enter here.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Enter current password for root (enter for none):</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>此时输入 root 原始密码（初始化安装的话为空），接下来，为了安全，MySQL 会提示你重置 root 密码，移除其他用户账号，禁用 root 远程登录，移除 test 数据库，重新加载 privilege 表格等，你只需输入 y 继续执行即可。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">OK, successfully used password, moving on...</span><br><span class="line"></span><br><span class="line">Setting the root password ensures that nobody can <span class="built_in">log</span> into the MySQL</span><br><span class="line">root user without the proper authorisation.</span><br><span class="line"></span><br><span class="line">Set root password? [Y/n] y</span><br><span class="line">New password:</span><br><span class="line">Re-enter new password:</span><br><span class="line">Password updated successfully!</span><br><span class="line">Reloading privilege tables..</span><br><span class="line"> ... Success!</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">By default, a MySQL installation has an anonymous user, allowing anyone</span><br><span class="line">to <span class="built_in">log</span> into MySQL without having to have a user account created <span class="keyword">for</span></span><br><span class="line">them. This is intended only <span class="keyword">for</span> testing, and to make the installation</span><br><span class="line">go a bit smoother. You should remove them before moving into a</span><br><span class="line">production environment.</span><br><span class="line"></span><br><span class="line">Remove anonymous users? [Y/n] y</span><br><span class="line"> ... Success!</span><br><span class="line"></span><br><span class="line">Normally, root should only be allowed to connect from <span class="string">'localhost'</span>. This</span><br><span class="line">ensures that someone cannot guess at the root password from the network.</span><br><span class="line"></span><br><span class="line">Disallow root login remotely? [Y/n] y</span><br><span class="line"> ... Success!</span><br><span class="line"></span><br><span class="line">By default, MySQL comes with a database named <span class="string">'test'</span> that anyone can</span><br><span class="line">access. This is also intended only <span class="keyword">for</span> testing, and should be removed</span><br><span class="line">before moving into a production environment.</span><br><span class="line"></span><br><span class="line">Remove <span class="built_in">test</span> database and access to it? [Y/n] y</span><br><span class="line"> - Dropping <span class="built_in">test</span> database...</span><br><span class="line">ERROR 1008 (HY000) at line 1: Can<span class="string">'t drop database '</span><span class="built_in">test</span><span class="string">'; database doesn'</span>t exist</span><br><span class="line"> ... Failed! Not critical, keep moving...</span><br><span class="line"> - Removing privileges on <span class="built_in">test</span> database...</span><br><span class="line"> ... Success!</span><br><span class="line"></span><br><span class="line">Reloading the privilege tables will ensure that all changes made so far</span><br><span class="line">will take effect immediately.</span><br><span class="line"></span><br><span class="line">Reload privilege tables now? [Y/n] y</span><br><span class="line"> ... Success!</span><br><span class="line"></span><br><span class="line">All <span class="keyword">done</span>! If you<span class="string">'ve completed all of the above steps, your MySQL</span></span><br><span class="line"><span class="string">installation should now be secure.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Thanks for using MySQL!</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Cleaning up...</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>至此，整个 MySQL 安装完成。</p>
<h3 id="远程访问设置"><a href="#远程访问设置" class="headerlink" title="远程访问设置"></a>远程访问设置</h3></li>
<li><p>创建一个普通用户 sa ，密码是 some_pass</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CREATE USER <span class="string">'sa'</span>@<span class="string">'%'</span> IDENTIFIED BY <span class="string">'some_pass'</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>给这个用户授予 SELECT,INSERT,UPDATE,DELETE 的远程访问的权限，这个账号一般用于提供给实施的系统访问</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GRANT SELECT,INSERT,UPDATE,DELETE ON *.* TO <span class="string">'sa'</span>@<span class="string">'%'</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>创建一个管理员用户 admin 账号 ，密码是 some_pass</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CREATE USER <span class="string">'admin'</span>@<span class="string">'%'</span> IDENTIFIED BY <span class="string">'some_pass'</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>给这个用户授予所有的远程访问的权限。这个用户主要用于管理整个数据库、备份、还原等操作。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GRANT ALL ON *.* TO <span class="string">'admin'</span>@<span class="string">'%'</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>使授权立刻生效</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">flush privileges;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="开机自起"><a href="#开机自起" class="headerlink" title="开机自起"></a>开机自起</h3><ul>
<li><p>查看 MySQL 服务是否开机启动</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># systemctl is-enabled mysql.service;echo $?</span></span><br><span class="line">enabled</span><br><span class="line">0</span><br></pre></td></tr></table></figure>
</li>
<li><p>如果是 enabled 则说明是开机自动，如果不是，执行</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chkconfig --levels 235 mysqld on</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="设置字符集"><a href="#设置字符集" class="headerlink" title="设置字符集"></a>设置字符集</h3><ul>
<li><p>一般的，为了支持中文，我们应该讲字符集设为 UTF-8， 执行</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SHOW VARIABLES LIKE <span class="string">'character%'</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看当前 MySQL 字符集</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; SHOW VARIABLES LIKE <span class="string">'character%'</span>;</span><br><span class="line">+--------------------------+----------------------------+</span><br><span class="line">| Variable_name | Value |</span><br><span class="line">+--------------------------+----------------------------+</span><br><span class="line">| character_set_client | utf8 |</span><br><span class="line">| character_set_connection | utf8 |</span><br><span class="line">| character_set_database | latin1 |</span><br><span class="line">| character_set_filesystem | binary |</span><br><span class="line">| character_set_results | utf8 |</span><br><span class="line">| character_set_server | latin1 |</span><br><span class="line">| character_set_system | utf8 |</span><br><span class="line">| character_sets_dir | /usr/share/mysql/charsets/ |</span><br><span class="line">+--------------------------+----------------------------+</span><br><span class="line">8 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br></pre></td></tr></table></figure>
</li>
<li><p>可以看到默认服务器的字符器是 latin1 ，对中文不友好。</p>
</li>
<li><p>修改<code>/etc/my.cnf</code> 文件，添加字符集的设置</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[mysqld] character_set_server = utf8</span><br><span class="line"></span><br><span class="line">[mysql] default-character-set = utf8</span><br></pre></td></tr></table></figure>
</li>
<li><p>重启 MySQL ,可以看到字符集已经修改了</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; SHOW VARIABLES LIKE <span class="string">'character%'</span></span><br><span class="line"> -&gt; ;</span><br><span class="line">+--------------------------+----------------------------+</span><br><span class="line">| Variable_name | Value |</span><br><span class="line">+--------------------------+----------------------------+</span><br><span class="line">| character_set_client | utf8 |</span><br><span class="line">| character_set_connection | utf8 |</span><br><span class="line">| character_set_database | utf8 |</span><br><span class="line">| character_set_filesystem | binary |</span><br><span class="line">| character_set_results | utf8 |</span><br><span class="line">| character_set_server | utf8 |</span><br><span class="line">| character_set_system | utf8 |</span><br><span class="line">| character_sets_dir | /usr/share/mysql/charsets/ |</span><br><span class="line">+--------------------------+----------------------------+</span><br><span class="line">8 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br></pre></td></tr></table></figure>
</li>
</ul>

  </section>

  <section class="post-comments">

    <!-- 将评论系统（例如Disqus、多说、友言、畅言等）提供的代码片段粘贴在这里 -->
    
</section>


</article>


            <footer class="footer">

    <span class="footer__copyright">&copy; 2014-2015. | 由<a href="https://hexo.io/">Hexo</a>强力驱动 | 主题<a href="https://github.com/someus/huno">Huno</a></span>
    
</footer>
        </div>
    </div>

    <!-- js files -->
    <script src="/js/jquery.min.js"></script>
    <script src="/js/main.js"></script>
    <script src="/js/scale.fix.js"></script>
    

    

    <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript"> 
        $(document).ready(function(){
            MathJax.Hub.Config({ 
                tex2jax: {inlineMath: [['[latex]','[/latex]'], ['\\(','\\)']]} 
            });
        });
    </script>


    

    <script src="/js/awesome-toc.min.js"></script>
    <script>
        $(document).ready(function(){
            $.awesome_toc({
                overlay: true,
                contentId: "post-content",
            });
        });
    </script>


    
    
    <!--kill ie6 -->
<!--[if IE 6]>
  <script src="//letskillie6.googlecode.com/svn/trunk/2/zh_CN.js"></script>
<![endif]-->

</body>
</html>
